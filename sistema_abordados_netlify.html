<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Registro de Abordados</title>
    <style>
        :root {
            --cor-primaria: #000000; /* Preto */
            --cor-secundaria: #D2B48C; /* Caqui */
            --cor-texto: #333333;
            --cor-fundo: #f5f5f5;
            --cor-borda: #cccccc;
            --cor-sucesso: #4CAF50;
            --cor-erro: #f44336;
            --cor-aviso: #ff9800;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        body {
            background-color: var(--cor-fundo);
            color: var(--cor-texto);
            line-height: 1.6;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        header {
            background-color: var(--cor-primaria);
            color: white;
            padding: 1rem;
            text-align: center;
        }
        
        nav {
            display: flex;
            justify-content: center;
            background-color: var(--cor-secundaria);
            padding: 0.5rem;
        }
        
        nav a {
            color: var(--cor-primaria);
            text-decoration: none;
            padding: 0.5rem 1rem;
            margin: 0 0.5rem;
            border-radius: 4px;
            font-weight: bold;
            transition: background-color 0.3s;
            -webkit-tap-highlight-color: transparent;
        }
        
        nav a:hover, nav a.active {
            background-color: var(--cor-primaria);
            color: white;
        }
        
        main {
            max-width: 1200px;
            margin: 1rem auto;
            padding: 1rem;
        }
        
        h1, h2, h3 {
            color: var(--cor-primaria);
            margin-bottom: 1rem;
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--cor-primaria);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--cor-borda);
            border-radius: 4px;
            font-size: 16px; /* Evita zoom em iOS */
            background-color: #f9f9f9;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        
        /* Estilo específico para select no iOS */
        select {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.7rem center;
            background-size: 1rem;
            padding-right: 2.5rem;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--cor-secundaria);
            box-shadow: 0 0 0 2px rgba(210, 180, 140, 0.3);
        }
        
        button {
            background-color: var(--cor-primaria);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px; /* Evita zoom em iOS */
            font-weight: bold;
            transition: background-color 0.3s;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            min-height: 44px; /* Tamanho mínimo recomendado para iOS */
        }
        
        button:hover {
            background-color: #333333;
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        button.secundario {
            background-color: var(--cor-secundaria);
            color: var(--cor-primaria);
        }
        
        button.secundario:hover {
            background-color: #c0a378;
        }
        
        button.perigo {
            background-color: var(--cor-erro);
        }
        
        button.perigo:hover {
            background-color: #d32f2f;
        }
        
        .alert {
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
        }
        
        .alert-success {
            background-color: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #a5d6a7;
        }
        
        .alert-error {
            background-color: #ffebee;
            color: #c62828;
            border: 1px solid #ef9a9a;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            main {
                padding: 0.5rem;
            }
            
            .card {
                padding: 1rem;
            }
            
            button {
                width: 100%;
                margin-bottom: 0.5rem;
            }
            
            .abordado-card h4 {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .abordado-card h4 button {
                margin-top: 0.5rem;
                width: 100%;
            }
            
            .catalogo-section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .catalogo-section-header button {
                margin-top: 0.5rem;
                width: 100%;
            }
            
            .abordado-actions {
                flex-direction: column;
            }
            
            .abordado-actions button {
                width: 100%;
            }
            
            .modal-content {
                width: 95%;
                margin: 5% auto;
            }
            
            .abordado-info {
                grid-template-columns: 1fr;
            }
        }
        
        .catalogo-section {
            margin-bottom: 1rem;
            border-left: 5px solid var(--cor-secundaria);
            padding-left: 1rem;
        }
        
        .catalogo-section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 0.5rem 0;
            position: relative;
            -webkit-tap-highlight-color: transparent;
        }
        
        .catalogo-section-header h3 {
            margin: 0;
            flex-grow: 1;
        }
        
        .catalogo-section-header::after {
            content: '\25BC';
            font-size: 0.8rem;
            margin-left: 1rem;
            transition: transform 0.3s ease;
        }
        
        .catalogo-section.expanded .catalogo-section-header::after {
            transform: rotate(180deg);
        }
        
        .catalogo-section-header button {
            font-size: 0.8rem;
            padding: 0.5rem 1rem;
            margin-left: 1rem;
            pointer-events: auto;
            z-index: 1;
        }
        
        .catalogo-section-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
            padding-top: 0;
        }
        
        .catalogo-section.expanded .catalogo-section-content {
            max-height: 10000px;
            padding-top: 1rem;
            transition: max-height 0.5s ease-in;
        }
        
        .abordado-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            margin-bottom: 1rem;
            position: relative;
        }
        
        .abordado-card h4 {
            margin-bottom: 0.5rem;
            color: var(--cor-primaria);
            border-bottom: 1px solid var(--cor-secundaria);
            padding-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .abordado-card h4 button {
            font-size: 0.7rem;
            padding: 0.3rem 0.7rem;
        }
        
        .abordado-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .abordado-info p {
            margin: 0;
            font-size: 0.9rem;
        }
        
        .abordado-info strong {
            color: var(--cor-primaria);
        }
        
        .abordado-observacoes {
            margin-bottom: 1rem;
            padding: 0.5rem;
            background-color: #f9f9f9;
            border-radius: 4px;
            border-left: 3px solid var(--cor-secundaria);
        }
        
        .abordado-observacoes p {
            margin: 0;
            font-size: 0.9rem;
            white-space: pre-wrap;
        }
        
        .abordado-actions {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }
        
        .abordado-actions button {
            font-size: 0.8rem;
            padding: 0.5rem 1rem;
        }
        
        .foto-container {
            width: 100%;
            height: 300px;
            background-color: #f0f0f0;
            border-radius: 4px;
            margin-bottom: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .foto-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .foto-placeholder {
            color: #999;
            text-align: center;
            font-style: italic;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 1.5rem;
            border-radius: 8px;
            max-width: 500px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .modal-header h3 {
            margin: 0;
        }
        
        .close {
            color: #aaa;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }
        
        .close:hover {
            color: var(--cor-primaria);
        }
        
        .modal-body {
            margin-bottom: 1.5rem;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }
        
        .hidden {
            display: none;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--cor-secundaria);
        }
        
        .tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            background-color: #f0f0f0;
            border: none;
            border-radius: 4px 4px 0 0;
            margin-right: 0.25rem;
            -webkit-tap-highlight-color: transparent;
        }
        
        .tab.active {
            background-color: var(--cor-secundaria);
            color: var(--cor-primaria);
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .loading {
            display: inline-block;
            width: 1.5rem;
            height: 1.5rem;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 0.5rem;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .btn-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.8;
            cursor: not-allowed;
        }
        
        /* Melhorias específicas para iOS/Safari */
        @supports (-webkit-touch-callout: none) {
            input[type="file"] {
                font-size: 16px;
            }
            
            .modal {
                -webkit-overflow-scrolling: touch;
            }
            
            button {
                -webkit-appearance: none;
                border-radius: 4px;
            }
        }
        
        /* Melhorias para dispositivos móveis */
        @media (max-width: 480px) {
            nav {
                flex-direction: row;
                justify-content: center;
            }
            
            nav a {
                padding: 0.75rem 1rem;
                margin: 0 0.25rem;
                font-size: 1.1rem;
            }
            
            h1 {
                font-size: 1.5rem;
            }
            
            h2 {
                font-size: 1.3rem;
            }
            
            input, select, textarea {
                font-size: 16px;
                padding: 0.8rem;
            }
            
            .modal-footer {
                flex-direction: column;
            }
            
            .modal-footer button {
                width: 100%;
            }
            
            .foto-container {
                height: 250px;
            }
        }
        
        /* Estilos para impressão e PDF */
        @media print {
            body {
                font-family: Arial, sans-serif;
                font-size: 12pt;
                line-height: 1.5;
                color: #000;
                background: #fff;
            }
            
            header, nav, button, .abordado-actions, .catalogo-section-header button, .catalogo-section-header::after {
                display: none !important;
            }
            
            .card {
                box-shadow: none;
                border: 1px solid #ddd;
                page-break-inside: avoid;
            }
            
            h1, h2, h3, h4 {
                page-break-after: avoid;
            }
            
            .abordado-card {
                page-break-inside: avoid;
                margin-bottom: 20mm;
                border: 1px solid #ddd;
                padding: 5mm;
            }
            
            .foto-container {
                max-height: 100mm;
            }
            
            .foto-container img {
                max-height: 90mm;
            }
            
            .catalogo-section-content {
                max-height: none !important;
                overflow: visible !important;
                padding-top: 1rem !important;
            }
        }
    </style>
    
    <!-- Bibliotecas para PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <header>
        <h1>Sistema de Registro de Abordados</h1>
    </header>
    
    <nav>
        <a href="#" id="tab-cadastro" class="active">Cadastro</a>
        <a href="#" id="tab-catalogo">Catálogo</a>
    </nav>
    
    <main>
        <!-- Seção de Cadastro -->
        <div id="secao-cadastro" class="tab-content active">
            <div class="card">
                <h2>Cadastro de Abordado</h2>
                <form id="form-abordado">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="local_fato">Local do Fato:</label>
                            <input type="text" id="local_fato" name="local_fato" value="AFONSO PENA 412" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="tipo_envolvido">Tipo de Envolvido:</label>
                            <select id="tipo_envolvido" name="tipo_envolvido" required>
                                <option value="">Selecione...</option>
                                <option value="trafico">Tráfico</option>
                                <option value="roubo">Roubo</option>
                                <option value="furto">Furto</option>
                                <option value="arrombamento">Arrombamento</option>
                                <option value="outros">Outros</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="nome">Nome:</label>
                            <input type="text" id="nome" name="nome" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="nome_mae">Nome da Mãe:</label>
                            <input type="text" id="nome_mae" name="nome_mae" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="cpf">CPF:</label>
                            <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00">
                        </div>
                        
                        <div class="form-group">
                            <label for="rg">RG:</label>
                            <input type="text" id="rg" name="rg">
                        </div>
                        
                        <div class="form-group">
                            <label for="endereco">Endereço:</label>
                            <input type="text" id="endereco" name="endereco" placeholder="Rua xxx, número xx, bairro xxx, cidade">
                        </div>
                        
                        <div class="form-group">
                            <label for="profissao">Profissão:</label>
                            <input type="text" id="profissao" name="profissao">
                        </div>
                        
                        <div class="form-group">
                            <label for="estado_civil">Estado Civil:</label>
                            <select id="estado_civil" name="estado_civil">
                                <option value="">Selecione...</option>
                                <option value="solteiro">Solteiro(a)</option>
                                <option value="casado">Casado(a)</option>
                                <option value="divorciado">Divorciado(a)</option>
                                <option value="viuvo">Viúvo(a)</option>
                                <option value="uniao_estavel">União Estável</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="escolaridade">Escolaridade:</label>
                            <select id="escolaridade" name="escolaridade">
                                <option value="">Selecione...</option>
                                <option value="fundamental_incompleto">Fundamental Incompleto</option>
                                <option value="fundamental_completo">Fundamental Completo</option>
                                <option value="medio_incompleto">Médio Incompleto</option>
                                <option value="medio_completo">Médio Completo</option>
                                <option value="superior_incompleto">Superior Incompleto</option>
                                <option value="superior_completo">Superior Completo</option>
                                <option value="pos_graduacao">Pós-graduação</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="cutis">Cútis:</label>
                            <select id="cutis" name="cutis">
                                <option value="">Selecione...</option>
                                <option value="branca">Branca</option>
                                <option value="preta">Preta</option>
                                <option value="parda">Parda</option>
                                <option value="amarela">Amarela</option>
                                <option value="indigena">Indígena</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="telefone">Telefone:</label>
                            <input type="tel" id="telefone" name="telefone" placeholder="(00) 00000-0000">
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email">
                        </div>
                        
                        <div class="form-group">
                            <label for="foto">Foto:</label>
                            <input type="file" id="foto" name="foto" accept="image/*" capture="environment">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="observacoes">Observações:</label>
                        <textarea id="observacoes" name="observacoes" placeholder="Informações adicionais sobre a abordagem..."></textarea>
                    </div>
                    
                    <button type="submit" id="btn-salvar">Salvar Registro</button>
                </form>
            </div>
        </div>
        
        <!-- Seção de Catálogo -->
        <div id="secao-catalogo" class="tab-content">
            <div class="card">
                <h2>Catálogo de Abordados</h2>
                <div style="margin-bottom: 1rem;">
                    <button id="btn-gerar-pdf" class="secundario">Gerar PDF</button>
                    <button id="btn-expandir-todos" class="secundario">Expandir Todos</button>
                    <button id="btn-recolher-todos" class="secundario">Recolher Todos</button>
                </div>
                <div id="catalogo-container">
                    <!-- Conteúdo será gerado dinamicamente -->
                </div>
            </div>
        </div>
    </main>
    
    <!-- Modal de Exclusão -->
    <div id="modal-excluir" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirmar Exclusão</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p>Tem certeza que deseja excluir este registro?</p>
            </div>
            <div class="modal-footer">
                <button id="btn-cancelar-exclusao" class="secundario">Cancelar</button>
                <button id="btn-confirmar-exclusao" class="perigo">Excluir</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Edição de Foto -->
    <div id="modal-editar-foto" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Editar Foto</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <input type="file" id="nova-foto" accept="image/*" capture="environment">
            </div>
            <div class="modal-footer">
                <button id="btn-cancelar-edicao-foto" class="secundario">Cancelar</button>
                <button id="btn-salvar-foto">Salvar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal de Edição de Dados -->
    <div id="modal-editar-dados" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Editar Dados</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="form-edicao">
                    <!-- Campos serão preenchidos dinamicamente -->
                </form>
            </div>
            <div class="modal-footer">
                <button id="btn-cancelar-edicao-dados" class="secundario">Cancelar</button>
                <button id="btn-salvar-dados">Salvar</button>
            </div>
        </div>
    </div>
    
    <script>
        // Variáveis globais
        let abordados = JSON.parse(localStorage.getItem("abordados")) || [];
        let abordadoParaExcluir = null;
        let abordadoParaEditarFoto = null;
        let abordadoParaEditarDados = null;
        
        // Elementos DOM
        const tabCadastro = document.getElementById("tab-cadastro");
        const tabCatalogo = document.getElementById("tab-catalogo");
        const secaoCadastro = document.getElementById("secao-cadastro");
        const secaoCatalogo = document.getElementById("secao-catalogo");
        const formAbordado = document.getElementById("form-abordado");
        const catalogoContainer = document.getElementById("catalogo-container");
        const modalExcluir = document.getElementById("modal-excluir");
        const modalEditarFoto = document.getElementById("modal-editar-foto");
        const modalEditarDados = document.getElementById("modal-editar-dados");
        
        // Função para mostrar alertas
        function mostrarAlerta(mensagem, tipo = "success") {
            const alerta = document.createElement("div");
            alerta.className = `alert alert-${tipo}`;
            alerta.textContent = mensagem;
            
            const main = document.querySelector("main");
            main.insertBefore(alerta, main.firstChild);
            
            setTimeout(() => {
                alerta.remove();
            }, 5000);
        }
        
        // Função para alternar entre abas
        function alternarAba(aba) {
            // Remover classe active de todas as abas
            document.querySelectorAll("nav a").forEach(a => a.classList.remove("active"));
            document.querySelectorAll(".tab-content").forEach(content => content.classList.remove("active"));
            
            // Adicionar classe active na aba selecionada
            if (aba === "cadastro") {
                tabCadastro.classList.add("active");
                secaoCadastro.classList.add("active");
            } else {
                tabCatalogo.classList.add("active");
                secaoCatalogo.classList.add("active");
                renderizarCatalogo();
            }
        }
        
        // Função para salvar abordado via Netlify Functions
        async function salvarAbordadoNetlify(abordado) {
            try {
                const response = await fetch("/.netlify/functions/salvarAbordado", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(abordado)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    console.log("Dados salvos no banco Neon via Netlify Functions");
                } else {
                    console.error("Erro ao salvar no banco:", result.error);
                }
            } catch (error) {
                console.error("Erro na comunicação com Netlify Functions:", error);
            }
        }
        
        // Função para processar formulário
        async function processarFormulario(e) {
            e.preventDefault();
            
            const formData = new FormData(formAbordado);
            const novoAbordado = {
                id: Date.now().toString(),
                data_registro: new Date().toISOString(),
                local_fato: formData.get("local_fato"),
                tipo_envolvido: formData.get("tipo_envolvido"),
                nome: formData.get("nome"),
                nome_mae: formData.get("nome_mae"),
                cpf: formData.get("cpf"),
                rg: formData.get("rg"),
                endereco: formData.get("endereco"),
                profissao: formData.get("profissao"),
                estado_civil: formData.get("estado_civil"),
                escolaridade: formData.get("escolaridade"),
                cutis: formData.get("cutis"),
                telefone: formData.get("telefone"),
                email: formData.get("email"),
                observacoes: formData.get("observacoes"),
                foto: null
            };
            
            // Processar foto se fornecida
            const fotoFile = formData.get("foto");
            if (fotoFile && fotoFile.size > 0) {
                const reader = new FileReader();
                reader.onload = async function(e) {
                    novoAbordado.foto = e.target.result;
                    
                    // Salvar localmente
                    abordados.push(novoAbordado);
                    localStorage.setItem("abordados", JSON.stringify(abordados));
                    
                    // Tentar salvar no Netlify/Neon
                    await salvarAbordadoNetlify(novoAbordado);
                    
                    mostrarAlerta("Registro salvo com sucesso!");
                    formAbordado.reset();
                };
                reader.readAsDataURL(fotoFile);
            } else {
                // Salvar localmente
                abordados.push(novoAbordado);
                localStorage.setItem("abordados", JSON.stringify(abordados));
                
                // Tentar salvar no Netlify/Neon
                await salvarAbordadoNetlify(novoAbordado);
                
                mostrarAlerta("Registro salvo com sucesso!");
                formAbordado.reset();
            }
        }
        
        // Função para renderizar catálogo
        function renderizarCatalogo() {
            const tiposEnvolvido = {
                "trafico": "Tráfico",
                "roubo": "Roubo", 
                "furto": "Furto",
                "arrombamento": "Arrombamento",
                "outros": "Outros"
            };
            
            const abordadosPorTipo = {};
            
            // Agrupar por tipo de envolvido
            abordados.forEach(abordado => {
                const tipo = abordado.tipo_envolvido || "outros";
                if (!abordadosPorTipo[tipo]) {
                    abordadosPorTipo[tipo] = [];
                }
                abordadosPorTipo[tipo].push(abordado);
            });
            
            let html = "";
            
            // Renderizar cada seção
            Object.keys(tiposEnvolvido).forEach(tipo => {
                const abordadosDoTipo = abordadosPorTipo[tipo] || [];
                const nomeSecao = tiposEnvolvido[tipo];
                
                html += `
                    <div class="catalogo-section" data-tipo="${tipo}">
                        <div class="catalogo-section-header" onclick="toggleSecao('${tipo}')">
                            <h3>${nomeSecao} (${abordadosDoTipo.length})</h3>
                            <button onclick="event.stopPropagation(); gerarPdfSecao('${tipo}')" class="secundario">PDF Seção</button>
                        </div>
                        <div class="catalogo-section-content">
                `;
                
                abordadosDoTipo.forEach(abordado => {
                    html += criarCardAbordado(abordado);
                });
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            catalogoContainer.innerHTML = html;
        }
        
        // Função para criar card de abordado
        function criarCardAbordado(abordado) {
            const dataFormatada = new Date(abordado.data_registro).toLocaleString("pt-BR");
            
            return `
                <div class="abordado-card">
                    <h4>
                        ${abordado.nome}
                        <button onclick="gerarPdfIndividual('${abordado.id}')" class="secundario">PDF</button>
                    </h4>
                    
                    ${abordado.foto ? `
                        <div class="foto-container">
                            <img src="${abordado.foto}" alt="Foto de ${abordado.nome}">
                        </div>
                    ` : `
                        <div class="foto-container">
                            <div class="foto-placeholder">Sem foto</div>
                        </div>
                    `}
                    
                    <div class="abordado-info">
                        <p><strong>Data:</strong> ${dataFormatada}</p>
                        <p><strong>Local:</strong> ${abordado.local_fato}</p>
                        <p><strong>Tipo:</strong> ${abordado.tipo_envolvido}</p>
                        <p><strong>Nome da Mãe:</strong> ${abordado.nome_mae}</p>
                        <p><strong>CPF:</strong> ${abordado.cpf || "Não informado"}</p>
                        <p><strong>RG:</strong> ${abordado.rg || "Não informado"}</p>
                        <p><strong>Endereço:</strong> ${abordado.endereco || "Não informado"}</p>
                        <p><strong>Profissão:</strong> ${abordado.profissao || "Não informado"}</p>
                        <p><strong>Estado Civil:</strong> ${abordado.estado_civil || "Não informado"}</p>
                        <p><strong>Escolaridade:</strong> ${abordado.escolaridade || "Não informado"}</p>
                        <p><strong>Cútis:</strong> ${abordado.cutis || "Não informado"}</p>
                        <p><strong>Telefone:</strong> ${abordado.telefone || "Não informado"}</p>
                        <p><strong>Email:</strong> ${abordado.email || "Não informado"}</p>
                    </div>
                    
                    ${abordado.observacoes ? `
                        <div class="abordado-observacoes">
                            <strong>Observações:</strong>
                            <p>${abordado.observacoes}</p>
                        </div>
                    ` : ""}
                    
                    <div class="abordado-actions">
                        <button onclick="editarFoto('${abordado.id}')" class="secundario">Editar Foto</button>
                        <button onclick="editarDados('${abordado.id}')" class="secundario">Editar Dados</button>
                        <button onclick="excluirAbordado('${abordado.id}')" class="perigo">Excluir</button>
                    </div>
                </div>
            `;
        }
        
        // Função para alternar seção
        function toggleSecao(tipo) {
            const secao = document.querySelector(`[data-tipo="${tipo}"]`);
            secao.classList.toggle("expanded");
        }
        
        // Função para expandir todas as seções
        function expandirTodas() {
            document.querySelectorAll(".catalogo-section").forEach(secao => {
                secao.classList.add("expanded");
            });
        }
        
        // Função para recolher todas as seções
        function recolherTodas() {
            document.querySelectorAll(".catalogo-section").forEach(secao => {
                secao.classList.remove("expanded");
            });
        }
        
        // Função para excluir abordado
        function excluirAbordado(id) {
            abordadoParaExcluir = id;
            abrirModal(modalExcluir);
        }
        
        // Função para confirmar exclusão
        function confirmarExclusao() {
            if (abordadoParaExcluir) {
                abordados = abordados.filter(a => a.id !== abordadoParaExcluir);
                localStorage.setItem("abordados", JSON.stringify(abordados));
                renderizarCatalogo();
                fecharModal(modalExcluir);
                mostrarAlerta("Registro excluído com sucesso!");
                abordadoParaExcluir = null;
            }
        }
        
        // Função para editar foto
        function editarFoto(id) {
            abordadoParaEditarFoto = id;
            abrirModal(modalEditarFoto);
        }
        
        // Função para salvar nova foto
        function salvarNovaFoto() {
            const novaFoto = document.getElementById("nova-foto").files[0];
            
            if (novaFoto && abordadoParaEditarFoto) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const abordado = abordados.find(a => a.id === abordadoParaEditarFoto);
                    if (abordado) {
                        abordado.foto = e.target.result;
                        localStorage.setItem("abordados", JSON.stringify(abordados));
                        renderizarCatalogo();
                        fecharModal(modalEditarFoto);
                        mostrarAlerta("Foto atualizada com sucesso!");
                    }
                };
                reader.readAsDataURL(novaFoto);
            }
        }
        
        // Função para editar dados
        function editarDados(id) {
            abordadoParaEditarDados = id;
            const abordado = abordados.find(a => a.id === id);
            
            if (abordado) {
                const formEdicao = document.getElementById("form-edicao");
                formEdicao.innerHTML = `
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="edit-local_fato">Local do Fato:</label>
                            <input type="text" id="edit-local_fato" value="${abordado.local_fato}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-tipo_envolvido">Tipo de Envolvido:</label>
                            <select id="edit-tipo_envolvido" required>
                                <option value="trafico" ${abordado.tipo_envolvido === "trafico" ? "selected" : ""}>Tráfico</option>
                                <option value="roubo" ${abordado.tipo_envolvido === "roubo" ? "selected" : ""}>Roubo</option>
                                <option value="furto" ${abordado.tipo_envolvido === "furto" ? "selected" : ""}>Furto</option>
                                <option value="arrombamento" ${abordado.tipo_envolvido === "arrombamento" ? "selected" : ""}>Arrombamento</option>
                                <option value="outros" ${abordado.tipo_envolvido === "outros" ? "selected" : ""}>Outros</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-nome">Nome:</label>
                            <input type="text" id="edit-nome" value="${abordado.nome}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-nome_mae">Nome da Mãe:</label>
                            <input type="text" id="edit-nome_mae" value="${abordado.nome_mae}" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-cpf">CPF:</label>
                            <input type="text" id="edit-cpf" value="${abordado.cpf || ""}">
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-rg">RG:</label>
                            <input type="text" id="edit-rg" value="${abordado.rg || ""}">
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-endereco">Endereço:</label>
                            <input type="text" id="edit-endereco" value="${abordado.endereco || ""}">
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-profissao">Profissão:</label>
                            <input type="text" id="edit-profissao" value="${abordado.profissao || ""}">
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-estado_civil">Estado Civil:</label>
                            <select id="edit-estado_civil">
                                <option value="">Selecione...</option>
                                <option value="solteiro" ${abordado.estado_civil === "solteiro" ? "selected" : ""}>Solteiro(a)</option>
                                <option value="casado" ${abordado.estado_civil === "casado" ? "selected" : ""}>Casado(a)</option>
                                <option value="divorciado" ${abordado.estado_civil === "divorciado" ? "selected" : ""}>Divorciado(a)</option>
                                <option value="viuvo" ${abordado.estado_civil === "viuvo" ? "selected" : ""}>Viúvo(a)</option>
                                <option value="uniao_estavel" ${abordado.estado_civil === "uniao_estavel" ? "selected" : ""}>União Estável</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-escolaridade">Escolaridade:</label>
                            <select id="edit-escolaridade">
                                <option value="">Selecione...</option>
                                <option value="fundamental_incompleto" ${abordado.escolaridade === "fundamental_incompleto" ? "selected" : ""}>Fundamental Incompleto</option>
                                <option value="fundamental_completo" ${abordado.escolaridade === "fundamental_completo" ? "selected" : ""}>Fundamental Completo</option>
                                <option value="medio_incompleto" ${abordado.escolaridade === "medio_incompleto" ? "selected" : ""}>Médio Incompleto</option>
                                <option value="medio_completo" ${abordado.escolaridade === "medio_completo" ? "selected" : ""}>Médio Completo</option>
                                <option value="superior_incompleto" ${abordado.escolaridade === "superior_incompleto" ? "selected" : ""}>Superior Incompleto</option>
                                <option value="superior_completo" ${abordado.escolaridade === "superior_completo" ? "selected" : ""}>Superior Completo</option>
                                <option value="pos_graduacao" ${abordado.escolaridade === "pos_graduacao" ? "selected" : ""}>Pós-graduação</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-cutis">Cútis:</label>
                            <select id="edit-cutis">
                                <option value="">Selecione...</option>
                                <option value="branca" ${abordado.cutis === "branca" ? "selected" : ""}>Branca</option>
                                <option value="preta" ${abordado.cutis === "preta" ? "selected" : ""}>Preta</option>
                                <option value="parda" ${abordado.cutis === "parda" ? "selected" : ""}>Parda</option>
                                <option value="amarela" ${abordado.cutis === "amarela" ? "selected" : ""}>Amarela</option>
                                <option value="indigena" ${abordado.cutis === "indigena" ? "selected" : ""}>Indígena</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-telefone">Telefone:</label>
                            <input type="tel" id="edit-telefone" value="${abordado.telefone || ""}">
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-email">Email:</label>
                            <input type="email" id="edit-email" value="${abordado.email || ""}">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-observacoes">Observações:</label>
                        <textarea id="edit-observacoes">${abordado.observacoes || ""}</textarea>
                    </div>
                `;
                
                abrirModal(modalEditarDados);
            }
        }
        
        // Função para salvar dados editados
        function salvarDadosEditados() {
            if (abordadoParaEditarDados) {
                const abordado = abordados.find(a => a.id === abordadoParaEditarDados);
                
                if (abordado) {
                    abordado.local_fato = document.getElementById("edit-local_fato").value;
                    abordado.tipo_envolvido = document.getElementById("edit-tipo_envolvido").value;
                    abordado.nome = document.getElementById("edit-nome").value;
                    abordado.nome_mae = document.getElementById("edit-nome_mae").value;
                    abordado.cpf = document.getElementById("edit-cpf").value;
                    abordado.rg = document.getElementById("edit-rg").value;
                    abordado.endereco = document.getElementById("edit-endereco").value;
                    abordado.profissao = document.getElementById("edit-profissao").value;
                    abordado.estado_civil = document.getElementById("edit-estado_civil").value;
                    abordado.escolaridade = document.getElementById("edit-escolaridade").value;
                    abordado.cutis = document.getElementById("edit-cutis").value;
                    abordado.telefone = document.getElementById("edit-telefone").value;
                    abordado.email = document.getElementById("edit-email").value;
                    abordado.observacoes = document.getElementById("edit-observacoes").value;
                    
                    localStorage.setItem("abordados", JSON.stringify(abordados));
                    renderizarCatalogo();
                    fecharModal(modalEditarDados);
                    mostrarAlerta("Dados atualizados com sucesso!");
                    abordadoParaEditarDados = null;
                }
            }
        }
        
        // Funções para modais
        function abrirModal(modal) {
            modal.style.display = "block";
        }
        
        function fecharModal(modal) {
            modal.style.display = "none";
        }
        
        // Função para gerar PDF individual
        function gerarPdfIndividual(id) {
            const abordado = abordados.find(a => a.id === id);
            if (abordado) {
                const conteudo = criarConteudoPdf([abordado], `Registro de ${abordado.nome}`);
                gerarPdf(conteudo, `abordado_${abordado.nome.replace(/\s+/g, "_")}`);
            }
        }
        
        // Função para gerar PDF de seção
        function gerarPdfSecao(tipo) {
            const abordadosDoTipo = abordados.filter(a => a.tipo_envolvido === tipo);
            const tiposEnvolvido = {
                "trafico": "Tráfico",
                "roubo": "Roubo", 
                "furto": "Furto",
                "arrombamento": "Arrombamento",
                "outros": "Outros"
            };
            
            if (abordadosDoTipo.length > 0) {
                const nomeSecao = tiposEnvolvido[tipo];
                const conteudo = criarConteudoPdf(abordadosDoTipo, `Registros - ${nomeSecao}`);
                gerarPdf(conteudo, `secao_${tipo}`);
            }
        }
        
        // Função para gerar PDF completo
        function gerarPdfCompleto() {
            if (abordados.length > 0) {
                const conteudo = criarConteudoPdf(abordados, "Catálogo Completo de Abordados");
                gerarPdf(conteudo, "catalogo_completo");
            } else {
                mostrarAlerta("Não há registros para gerar PDF.", "error");
            }
        }
        
        // Função para criar conteúdo do PDF
        function criarConteudoPdf(listaAbordados, titulo) {
            const agora = new Date().toLocaleString("pt-BR");
            
            let html = `
                <div class="pdf-content">
                    <div class="pdf-header">
                        <div class="pdf-title">Sistema de Registro de Abordados</div>
                        <div class="pdf-subtitle">${titulo}</div>
                        <div class="pdf-date">Gerado em: ${agora}</div>
                    </div>
            `;
            
            listaAbordados.forEach((abordado, index) => {
                const dataFormatada = new Date(abordado.data_registro).toLocaleString("pt-BR");
                
                html += `
                    <div class="pdf-abordado">
                        <h3>${index + 1}. ${abordado.nome}</h3>
                        
                        ${abordado.foto ? `
                            <div style="text-align: center; margin: 10px 0;">
                                <img src="${abordado.foto}" style="max-width: 150px; max-height: 150px; border: 1px solid #ccc;">
                            </div>
                        ` : ""}
                        
                        <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold; width: 30%;">Data de Registro:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${dataFormatada}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Local do Fato:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.local_fato}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Tipo de Envolvido:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.tipo_envolvido}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Nome da Mãe:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.nome_mae}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">CPF:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.cpf || "Não informado"}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">RG:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.rg || "Não informado"}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Endereço:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.endereco || "Não informado"}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Profissão:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.profissao || "Não informado"}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Estado Civil:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.estado_civil || "Não informado"}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Escolaridade:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.escolaridade || "Não informado"}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Cútis:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.cutis || "Não informado"}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Telefone:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.telefone || "Não informado"}</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #ccc; padding: 5px; font-weight: bold;">Email:</td>
                                <td style="border: 1px solid #ccc; padding: 5px;">${abordado.email || "Não informado"}</td>
                            </tr>
                        </table>
                        
                        ${abordado.observacoes ? `
                            <div style="margin-top: 10px;">
                                <strong>Observações:</strong>
                                <div style="border: 1px solid #ccc; padding: 10px; background-color: #f9f9f9; white-space: pre-wrap;">${abordado.observacoes}</div>
                            </div>
                        ` : ""}
                    </div>
                `;
            });
            
            html += "</div>";
            
            const elemento = document.createElement("div");
            elemento.innerHTML = html;
            return elemento;
        }
        
        // Função para gerar PDF
        function gerarPdf(conteudoHtml, nomeArquivo) {
            conteudoHtml.style.position = "absolute";
            conteudoHtml.style.left = "-9999px";
            document.body.appendChild(conteudoHtml);
            
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({
                orientation: "portrait",
                unit: "mm",
                format: "a4",
                compress: true
            });
            
            html2canvas(conteudoHtml, {
                scale: 2,
                useCORS: true,
                allowTaint: true,
                logging: false,
                letterRendering: true,
                width: conteudoHtml.scrollWidth,
                height: conteudoHtml.scrollHeight
            }).then(canvas => {
                const imgData = canvas.toDataURL("image/jpeg", 1.0);
                const imgWidth = 210;
                const pageHeight = 297;
                const imgHeight = canvas.height * imgWidth / canvas.width;
                let heightLeft = imgHeight;
                let position = 0;
                
                doc.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight);
                heightLeft -= pageHeight;
                
                while (heightLeft > 0) {
                    position = heightLeft - imgHeight;
                    doc.addPage();
                    doc.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;
                }
                
                doc.save(`${nomeArquivo}.pdf`);
                document.body.removeChild(conteudoHtml);
                mostrarAlerta("PDF gerado com sucesso!", "success");
            }).catch(error => {
                console.error("Erro ao gerar PDF:", error);
                mostrarAlerta(`Erro ao gerar PDF: ${error.message}`, "error");
                
                if (document.body.contains(conteudoHtml)) {
                    document.body.removeChild(conteudoHtml);
                }
            });
        }
        
        // Event Listeners
        tabCadastro.addEventListener("click", (e) => {
            e.preventDefault();
            alternarAba("cadastro");
        });
        
        tabCatalogo.addEventListener("click", (e) => {
            e.preventDefault();
            alternarAba("catalogo");
        });
        
        formAbordado.addEventListener("submit", processarFormulario);
        
        document.getElementById("btn-gerar-pdf").addEventListener("click", gerarPdfCompleto);
        document.getElementById("btn-expandir-todos").addEventListener("click", expandirTodas);
        document.getElementById("btn-recolher-todos").addEventListener("click", recolherTodas);
        
        document.getElementById("btn-confirmar-exclusao").addEventListener("click", confirmarExclusao);
        document.getElementById("btn-salvar-foto").addEventListener("click", salvarNovaFoto);
        document.getElementById("btn-salvar-dados").addEventListener("click", salvarDadosEditados);
        
        // Fechar modais
        document.querySelectorAll(".close, #btn-cancelar-exclusao").forEach(element => {
            element.addEventListener("click", () => {
                fecharModal(modalExcluir);
            });
        });
        
        document.querySelectorAll(".close, #btn-cancelar-edicao-foto").forEach(element => {
            element.addEventListener("click", () => {
                fecharModal(modalEditarFoto);
            });
        });
        
        document.querySelectorAll(".close, #btn-cancelar-edicao-dados").forEach(element => {
            element.addEventListener("click", () => {
                fecharModal(modalEditarDados);
            });
        });
        
        // Fechar modais ao clicar fora deles
        window.addEventListener("click", (e) => {
            if (e.target === modalExcluir) {
                fecharModal(modalExcluir);
            }
            if (e.target === modalEditarFoto) {
                fecharModal(modalEditarFoto);
            }
            if (e.target === modalEditarDados) {
                fecharModal(modalEditarDados);
            }
        });
        
        // Inicializar catálogo
        renderizarCatalogo();
        
        // Adicionar alguns dados de exemplo se não houver nenhum
        if (abordados.length === 0) {
            abordados.push({
                id: "1",
                data_registro: new Date().toISOString(),
                local_fato: "Rua Afonso Pena, 412",
                tipo_envolvido: "trafico",
                nome: "João da Silva",
                nome_mae: "Maria da Silva",
                cpf: "123.456.789-00",
                rg: "1234567",
                endereco: "Rua das Flores, 123, Centro, São Paulo",
                profissao: "Desempregado",
                estado_civil: "solteiro",
                escolaridade: "medio_completo",
                cutis: "parda",
                telefone: "(11) 98765-4321",
                email: "joao@exemplo.com",
                observacoes: "Abordado demonstrou nervosismo durante a abordagem. Possui tatuagem de dragão no braço direito.",
                foto: null
            });
            
            abordados.push({
                id: "2",
                data_registro: new Date().toISOString(),
                local_fato: "Avenida Brasil, 1500",
                tipo_envolvido: "roubo",
                nome: "Pedro Oliveira",
                nome_mae: "Ana Oliveira",
                cpf: "987.654.321-00",
                rg: "7654321",
                endereco: "Av. Paulista, 1000, Bela Vista, São Paulo",
                profissao: "Autônomo",
                estado_civil: "casado",
                escolaridade: "superior_incompleto",
                cutis: "branca",
                telefone: "(11) 91234-5678",
                email: "pedro@exemplo.com",
                observacoes: "Encontrado com objetos de procedência duvidosa. Já possui passagem por crimes semelhantes.",
                foto: null
            });
            
            abordados.push({
                id: "3",
                data_registro: new Date().toISOString(),
                local_fato: "Praça da Liberdade, s/n",
                tipo_envolvido: "furto",
                nome: "Carlos Santos",
                nome_mae: "Joana Santos",
                cpf: "111.222.333-44",
                rg: "2233445",
                endereco: "Rua Augusta, 500, Consolação, São Paulo",
                profissao: "Estudante",
                estado_civil: "solteiro",
                escolaridade: "superior_incompleto",
                cutis: "preta",
                telefone: "(11) 97777-8888",
                email: "carlos@exemplo.com",
                observacoes: "",
                foto: null
            });
            
            localStorage.setItem("abordados", JSON.stringify(abordados));
            renderizarCatalogo();
        }
    </script>
</body>
</html>

